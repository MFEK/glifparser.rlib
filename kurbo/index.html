<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="2D geometry, with a focus on curves."><meta name="keywords" content="rust, rustlang, rust-lang, kurbo"><title>kurbo - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../normalize.css"><link rel="stylesheet" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../ayu.css" disabled><link rel="stylesheet" href="../dark.css" disabled><link rel="stylesheet" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../kurbo/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../kurbo/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate kurbo</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.9.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../kurbo/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">kurbo</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/kurbo/lib.rs.html#15-124">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>2D geometry, with a focus on curves.</p>
<p>The kurbo library contains data structures and algorithms for curves and
vector paths. It was designed to serve the needs of 2D graphics applications,
but it is intended to be general enough to be useful for other applications.</p>
<p>Kurbo is designed to be used by <a href="https://docs.rs/piet"><code>Piet</code></a>, a crate for drawing 2D graphics,
and is in turn used by <a href="https://docs.rs/druid"><code>Druid</code></a>, a cross-platform GUI toolkit.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>Basic UI-style geometry:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>kurbo::{Insets, Point, Rect, Size, Vec2};

<span class="kw">let </span>pt = Point::new(<span class="number">10.0</span>, <span class="number">10.0</span>);
<span class="kw">let </span>vector = Vec2::new(<span class="number">5.0</span>, -<span class="number">5.0</span>);
<span class="kw">let </span>pt2 = pt + vector;
<span class="macro">assert_eq!</span>(pt2, Point::new(<span class="number">15.0</span>, <span class="number">5.0</span>));

<span class="kw">let </span>rect = Rect::from_points(pt, pt2);
<span class="macro">assert_eq!</span>(rect, Rect::from_origin_size((<span class="number">10.0</span>, <span class="number">5.0</span>), (<span class="number">5.0</span>, <span class="number">5.0</span>)));

<span class="kw">let </span>insets = Insets::uniform(<span class="number">1.0</span>);
<span class="kw">let </span>inset_rect = rect - insets;
<span class="macro">assert_eq!</span>(inset_rect.size(), Size::new(<span class="number">3.0</span>, <span class="number">3.0</span>));</code></pre></div>
<p>Finding the closest position on a <a href="trait.Shape.html" title="Shape"><code>Shape</code></a>’s perimeter to a <a href="struct.Point.html" title="Point"><code>Point</code></a>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>kurbo::{Circle, ParamCurve, ParamCurveNearest, Point, Shape};

<span class="kw">const </span>DESIRED_ACCURACY: f64 = <span class="number">0.1</span>;

<span class="doccomment">/// Given a shape and a point, returns the closest position on the shape&#39;s
/// perimeter, or `None` if the shape is malformed.
</span><span class="kw">fn </span>closest_perimeter_point(shape: <span class="kw">impl </span>Shape, pt: Point) -&gt; <span class="prelude-ty">Option</span>&lt;Point&gt; {
    <span class="kw">let </span><span class="kw-2">mut </span>best: <span class="prelude-ty">Option</span>&lt;(Point, f64)&gt; = <span class="prelude-val">None</span>;
    <span class="kw">for </span>segment <span class="kw">in </span>shape.path_segments(DESIRED_ACCURACY) {
        <span class="kw">let </span>nearest = segment.nearest(pt, DESIRED_ACCURACY);
        <span class="kw">if </span>best.map(|(<span class="kw">_</span>, best_d)| nearest.distance_sq &lt; best_d).unwrap_or(<span class="bool-val">true</span>) {
            best = <span class="prelude-val">Some</span>((segment.eval(nearest.t), nearest.distance_sq))
        }
    }
    best.map(|(point, <span class="kw">_</span>)| point)
}

<span class="kw">let </span>circle = Circle::new((<span class="number">5.0</span>, <span class="number">5.0</span>), <span class="number">5.0</span>);
<span class="kw">let </span>hit_point = Point::new(<span class="number">5.0</span>, -<span class="number">2.0</span>);
<span class="kw">let </span>expectation = Point::new(<span class="number">5.0</span>, <span class="number">0.0</span>);
<span class="kw">let </span>hit = closest_perimeter_point(circle, hit_point).unwrap();
<span class="macro">assert!</span>(hit.distance(expectation) &lt;= DESIRED_ACCURACY);</code></pre></div>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="common/index.html" title="kurbo::common mod">common</a></div><div class="item-right docblock-short">Common mathematical operations</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Affine.html" title="kurbo::Affine struct">Affine</a></div><div class="item-right docblock-short">A 2D affine transform.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Arc.html" title="kurbo::Arc struct">Arc</a></div><div class="item-right docblock-short">A single arc segment.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BezPath.html" title="kurbo::BezPath struct">BezPath</a></div><div class="item-right docblock-short">A Bézier path.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Circle.html" title="kurbo::Circle struct">Circle</a></div><div class="item-right docblock-short">A circle.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CircleSegment.html" title="kurbo::CircleSegment struct">CircleSegment</a></div><div class="item-right docblock-short">A segment of a circle.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ConstPoint.html" title="kurbo::ConstPoint struct">ConstPoint</a></div><div class="item-right docblock-short">A trivial “curve” that is just a constant.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CubicBez.html" title="kurbo::CubicBez struct">CubicBez</a></div><div class="item-right docblock-short">A single cubic Bézier segment.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CubicBezIter.html" title="kurbo::CubicBezIter struct">CubicBezIter</a></div><div class="item-right docblock-short">An iterator for cubic beziers.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Ellipse.html" title="kurbo::Ellipse struct">Ellipse</a></div><div class="item-right docblock-short">An ellipse.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Insets.html" title="kurbo::Insets struct">Insets</a></div><div class="item-right docblock-short">Insets from the edges of a rectangle.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Line.html" title="kurbo::Line struct">Line</a></div><div class="item-right docblock-short">A single line.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LineIntersection.html" title="kurbo::LineIntersection struct">LineIntersection</a></div><div class="item-right docblock-short">An intersection of a <a href="struct.Line.html" title="Line"><code>Line</code></a> and a <a href="enum.PathSeg.html" title="PathSeg"><code>PathSeg</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MinDistance.html" title="kurbo::MinDistance struct">MinDistance</a></div><div class="item-right docblock-short">The minimum distance between two Bézier curves.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Nearest.html" title="kurbo::Nearest struct">Nearest</a></div><div class="item-right docblock-short">The nearest position on a curve to some point.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PathSegIter.html" title="kurbo::PathSegIter struct">PathSegIter</a></div><div class="item-right docblock-short">An iterator for path segments.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Point.html" title="kurbo::Point struct">Point</a></div><div class="item-right docblock-short">A 2D point.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.QuadBez.html" title="kurbo::QuadBez struct">QuadBez</a></div><div class="item-right docblock-short">A single quadratic Bézier segment.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.QuadBezIter.html" title="kurbo::QuadBezIter struct">QuadBezIter</a></div><div class="item-right docblock-short">An iterator for quadratic beziers.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.QuadSpline.html" title="kurbo::QuadSpline struct">QuadSpline</a></div><div class="item-right docblock-short">A quadratic Bézier spline.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Rect.html" title="kurbo::Rect struct">Rect</a></div><div class="item-right docblock-short">A rectangle.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RoundedRect.html" title="kurbo::RoundedRect struct">RoundedRect</a></div><div class="item-right docblock-short">A rectangle with equally rounded corners.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RoundedRectRadii.html" title="kurbo::RoundedRectRadii struct">RoundedRectRadii</a></div><div class="item-right docblock-short">Radii for each corner of a rounded rectangle.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Segments.html" title="kurbo::Segments struct">Segments</a></div><div class="item-right docblock-short">An iterator that transforms path elements to path segments.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Size.html" title="kurbo::Size struct">Size</a></div><div class="item-right docblock-short">A 2D size.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SvgArc.html" title="kurbo::SvgArc struct">SvgArc</a></div><div class="item-right docblock-short">A single SVG arc segment.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TranslateScale.html" title="kurbo::TranslateScale struct">TranslateScale</a></div><div class="item-right docblock-short">A transformation including scaling and translation.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Vec2.html" title="kurbo::Vec2 struct">Vec2</a></div><div class="item-right docblock-short">A 2D vector.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PathEl.html" title="kurbo::PathEl enum">PathEl</a></div><div class="item-right docblock-short">The element of a Bézier path.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PathSeg.html" title="kurbo::PathSeg enum">PathSeg</a></div><div class="item-right docblock-short">A segment of a Bézier path.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SvgParseError.html" title="kurbo::SvgParseError enum">SvgParseError</a></div><div class="item-right docblock-short">An error which can be returned when parsing an SVG.</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.DEFAULT_ACCURACY.html" title="kurbo::DEFAULT_ACCURACY constant">DEFAULT_ACCURACY</a></div><div class="item-right docblock-short">A default value for methods that take an ‘accuracy’ argument.</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.MAX_EXTREMA.html" title="kurbo::MAX_EXTREMA constant">MAX_EXTREMA</a></div><div class="item-right docblock-short">The maximum number of extrema that can be reported in the <code>ParamCurveExtrema</code> trait.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ParamCurve.html" title="kurbo::ParamCurve trait">ParamCurve</a></div><div class="item-right docblock-short">A curve parametrized by a scalar.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ParamCurveArclen.html" title="kurbo::ParamCurveArclen trait">ParamCurveArclen</a></div><div class="item-right docblock-short">A parametrized curve that can have its arc length measured.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ParamCurveArea.html" title="kurbo::ParamCurveArea trait">ParamCurveArea</a></div><div class="item-right docblock-short">A parametrized curve that can have its signed area measured.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ParamCurveCurvature.html" title="kurbo::ParamCurveCurvature trait">ParamCurveCurvature</a></div><div class="item-right docblock-short">A parametrized curve that reports its curvature.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ParamCurveDeriv.html" title="kurbo::ParamCurveDeriv trait">ParamCurveDeriv</a></div><div class="item-right docblock-short">A differentiable parametrized curve.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ParamCurveExtrema.html" title="kurbo::ParamCurveExtrema trait">ParamCurveExtrema</a></div><div class="item-right docblock-short">A parametrized curve that reports its extrema.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ParamCurveNearest.html" title="kurbo::ParamCurveNearest trait">ParamCurveNearest</a></div><div class="item-right docblock-short">A parametrized curve that reports the nearest point.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Shape.html" title="kurbo::Shape trait">Shape</a></div><div class="item-right docblock-short">A generic trait for open and closed shapes.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.cubics_to_quadratic_splines.html" title="kurbo::cubics_to_quadratic_splines fn">cubics_to_quadratic_splines</a></div><div class="item-right docblock-short">Convert multiple cubic Bézier curves to quadratic splines.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.flatten.html" title="kurbo::flatten fn">flatten</a></div><div class="item-right docblock-short">Flatten the path, invoking the callback repeatedly.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.segments.html" title="kurbo::segments fn">segments</a></div><div class="item-right docblock-short">Transform an iterator over path elements into one over path
segments.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="kurbo" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0 (897e37553 2022-11-02)" ></div></body></html>